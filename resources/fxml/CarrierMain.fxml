<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.Tab?>
<?import javafx.scene.control.TabPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" 
            minWidth="-Infinity" prefHeight="540.0" prefWidth="960.0" 
            styleClass="main-root" xmlns="http://javafx.com/javafx/25" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="controllers.CarrierMainController">
   
   <!-- TOP BAR -->
   <top>
      <HBox alignment="CENTER_LEFT" prefHeight="60.0" spacing="20.0" 
            styleClass="top-bar" BorderPane.alignment="CENTER">
         <padding>
            <Insets left="20.0" right="20.0" />
         </padding>
         <children>
            <!-- Title -->
            <Label text="ðŸšš Carrier Dashboard" textFill="WHITE">
               <font>
                  <Font name="Arial Black" size="20.0" />
               </font>
            </Label>
            
            <!-- Carrier Name -->
            <Label fx:id="carrierNameLabel" text="Welcome, Carrier" 
                   textFill="WHITE">
               <font>
                  <Font name="Arial Bold" size="14.0" />
               </font>
            </Label>
            
            <!-- Spacer -->
            <Region HBox.hgrow="ALWAYS" />
            
            <!-- Stats Label -->
            <Label fx:id="statsLabel" text="ðŸ“Š Deliveries: 0" textFill="WHITE">
               <font>
                  <Font name="Arial Bold" size="13.0" />
               </font>
            </Label>
            
            <!-- Logout Button -->
            <Button fx:id="logoutButton" mnemonicParsing="false" 
                   onAction="#handleLogout" styleClass="logout-btn" text="Logout">
               <font>
                  <Font name="Arial Bold" size="13.0" />
               </font>
            </Button>
         </children>
      </HBox>
   </top>
   
   <!-- CENTER: Tabs for Orders -->
   <center>
      <TabPane prefHeight="480.0" prefWidth="960.0" 
              tabClosingPolicy="UNAVAILABLE" BorderPane.alignment="CENTER">
         <tabs>
            <!-- AVAILABLE ORDERS TAB -->
            <Tab text="ðŸ“¦ Available Orders">
               <content>
                  <VBox spacing="15.0">
                     <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                     </padding>
                     <children>
                        <!-- Header -->
                        <Label text="Available Deliveries - Select to Accept" 
                               textFill="#2c3e50">
                           <font>
                              <Font name="Arial Bold" size="16.0" />
                           </font>
                        </Label>
                        
                        <!-- Orders List -->
                        <ListView fx:id="availableOrdersList" prefHeight="320.0" 
                                 styleClass="product-list" VBox.vgrow="ALWAYS" />
                        
                        <!-- Action Button -->
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Button fx:id="acceptOrderButton" 
                                     mnemonicParsing="false" 
                                     onAction="#handleAcceptOrder" 
                                     prefHeight="45.0" prefWidth="180.0" 
                                     styleClass="menu-btn-primary" 
                                     text="âœ… Accept Order">
                                 <font>
                                    <Font name="Arial Bold" size="13.0" />
                                 </font>
                              </Button>
                              
                              <Button fx:id="refreshButton" 
                                     mnemonicParsing="false" 
                                     onAction="#handleRefresh" 
                                     prefHeight="45.0" prefWidth="140.0" 
                                     styleClass="menu-btn" 
                                     text="ðŸ”„ Refresh">
                                 <font>
                                    <Font name="Arial Bold" size="13.0" />
                                 </font>
                              </Button>
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
            
            <!-- CURRENT ORDERS TAB -->
            <Tab text="ðŸš› Current Deliveries">
               <content>
                  <VBox spacing="15.0">
                     <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                     </padding>
                     <children>
                        <!-- Header -->
                        <Label text="Your Current Deliveries" textFill="#2c3e50">
                           <font>
                              <Font name="Arial Bold" size="16.0" />
                           </font>
                        </Label>
                        
                        <!-- Current Orders List -->
                        <ListView fx:id="currentOrdersList" prefHeight="320.0" 
                                 styleClass="product-list" VBox.vgrow="ALWAYS" />
                        
                        <!-- Action Button -->
                        <HBox alignment="CENTER_LEFT" spacing="10.0">
                           <children>
                              <Button fx:id="completeOrderButton" 
                                     mnemonicParsing="false" 
                                     onAction="#handleCompleteOrder" 
                                     prefHeight="45.0" prefWidth="200.0" 
                                     styleClass="checkout-btn" 
                                     text="âœ… Complete Delivery">
                                 <font>
                                    <Font name="Arial Bold" size="13.0" />
                                 </font>
                              </Button>
                           </children>
                        </HBox>
                     </children>
                  </VBox>
               </content>
            </Tab>
            
            <!-- COMPLETED ORDERS TAB -->
            <Tab text="âœ… Completed">
               <content>
                  <VBox spacing="15.0">
                     <padding>
                        <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
                     </padding>
                     <children>
                        <!-- Header -->
                        <Label text="Delivery History" textFill="#2c3e50">
                           <font>
                              <Font name="Arial Bold" size="16.0" />
                           </font>
                        </Label>
                        
                        <!-- Completed Orders List -->
                        <ListView fx:id="completedOrdersList" prefHeight="370.0" 
                                 styleClass="product-list" VBox.vgrow="ALWAYS" />
                     </children>
                  </VBox>
               </content>
            </Tab>
         </tabs>
      </TabPane>
   </center>
   
</BorderPane>